---
title: c++阶段二第二讲
date: 2021-09-09 18:20:18
tags: [教材,阶段二]
categories: c++
description: c++阶段二第二讲
top_img: https://i.loli.net/2021/09/01/3TLgNjv8qmcfU1S.png
cover: https://i.loli.net/2021/09/01/3TLgNjv8qmcfU1S.png
---

# 第二讲

## 函数的默认参数

在调用有参函数时，如果经常需要传递同一个值到调用函数，在定义函数时，可以为参数设置一个默认值，这样在调用函数时可以省略一些参数，此时程序将采用默认值作为函数的实际参数。

比如学校给每一位学生注册某学习网站的账号，账号都是有一个对应密码的，要是每一个学生都去设置一个单独的密码，就会比较繁琐，所以大多数学校都选择设置一个统一的密码。

现在就有这么一个注册的函数，需要两个参数，一个是账号，一个是密码，我们只需要每一位同学的账号不一样，而密码都是0000。那么我们就可以使用默认参数。

```c++
void login(string username,string password="0000"){
    
}
```

**函数默认参数：在指定函数时通过赋值符给予默认值，这个默认值在调用函数时没有传入对应参数的话就会使用默认值，要是传入了对应参数那么就会使用传入的值。**

## 函数的重载

我们完成了两个数求和，求差等等函数，但是他们都有一个弊端，就是只能计算两个int类型的数，要是我们要传入一个long类型的或者小数类型的，那就没办法计算了。

你们想想能够怎么去解决这个问题？

解决办法有两个，其中一个就是再创建一个函数，这个函数的接收参数类为long或者小数等等这些类型。但是有一个弊端那就是函数的名字要改变不然创不了，如果要去适配很多种类型就意味着有很多函数，在调用的时候还要去看要传入的参数类型，再去想你要调用哪一个函数，就会很繁琐。

第二个方法就是函数的重载，

**函数的重载：能做到多个函数名相同，**

**但是两个重载函数必须在下列一个或两个方面有所区别：**

* 函数的参数个数不同。

* 函数的参数类型不同或者参数类型顺序不同。

```c++
void fun(){}
void fun(int a){}
void fun(int a,double b){}
fun();
fun(1);
fun(1,1.2);
```

## 函数的可变参数:

```c++
#include <iostream>
#include <stdarg.h>
#include <string>
using namespace std;
void va_add(int cnt,...)
{
	va_list ap;
	//cout << cnt << "\n";
	va_start(ap, cnt);
	int sum = cnt;
	for (int i = 0; i <= cnt; i++) {
		int a = va_arg(ap, int);
		sum += a;
		cout<<a<<"\n";
	}
	va_end(ap);
	printf("%d\n", sum);
}

int main() {
	va_add(1, 2, 3);
}
```

## 函数与变量的作用域

函数里创建的变量只有当前这个函数里才能访问。

